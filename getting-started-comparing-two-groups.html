<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Getting started: Comparing two groups | Improving Your Statistical Inferences</title>
  <meta name="description" content="Online textbook to Improve Your Statistical Inferences" />
  <meta name="generator" content="bookdown 0.20.1 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Getting started: Comparing two groups | Improving Your Statistical Inferences" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://themethodsection.com/ebook/" />
  <meta property="og:image" content="http://themethodsection.com/ebook/images/cover.jpg" />
  <meta property="og:description" content="Online textbook to Improve Your Statistical Inferences" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Getting started: Comparing two groups | Improving Your Statistical Inferences" />
  
  <meta name="twitter:description" content="Online textbook to Improve Your Statistical Inferences" />
  <meta name="twitter:image" content="http://themethodsection.com/ebook/images/cover.jpg" />

<meta name="author" content="Daniel Lakens" />


<meta name="date" content="2020-07-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="power-analysis-for-interactions.html"/>
<link rel="next" href="interaction-effects.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Improving Your Statistical Inferences</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li><a href="what-is-a-p-value-mathematically.html#what-is-a-p-value-mathematically">What is a <em>p</em>-value (mathematically)</a></li>
<li class="chapter" data-level="" data-path="what-is-power-analysis.html"><a href="what-is-power-analysis.html"><i class="fa fa-check"></i>What is power analysis?</a></li>
<li class="chapter" data-level="" data-path="how-to-justify-your-sample-size-based-on-a-power-analysis-.html"><a href="how-to-justify-your-sample-size-based-on-a-power-analysis-.html"><i class="fa fa-check"></i>How to justify your sample size based on a power analysis.</a></li>
<li class="chapter" data-level="" data-path="power-analysis-for-interactions.html"><a href="power-analysis-for-interactions.html"><i class="fa fa-check"></i>Power analysis for interactions</a></li>
<li class="chapter" data-level="1" data-path="getting-started-comparing-two-groups.html"><a href="getting-started-comparing-two-groups.html"><i class="fa fa-check"></i><b>1</b> Getting started: Comparing two groups</a></li>
<li class="chapter" data-level="2" data-path="interaction-effects.html"><a href="interaction-effects.html"><i class="fa fa-check"></i><b>2</b> Interaction Effects</a></li>
<li class="chapter" data-level="3" data-path="calculating-effect-sizes-for-interactions.html"><a href="calculating-effect-sizes-for-interactions.html"><i class="fa fa-check"></i><b>3</b> Calculating effect sizes for interactions</a></li>
<li class="chapter" data-level="4" data-path="power-for-interactions.html"><a href="power-for-interactions.html"><i class="fa fa-check"></i><b>4</b> Power for interactions</a></li>
<li class="divider"></li>
<li><a href="https://sites.google.com/site/lakens2/Home" target="blank">Daniel Lakens</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Improving Your Statistical Inferences</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="getting-started-comparing-two-groups" class="section level1">
<h1><span class="header-section-number">1</span> Getting started: Comparing two groups</h1>
<p>We are planning a two independent group experiment. We are using a validated measure, and we know the standard deviation of our measure is approximately 2. Psychologists are generaly horribly bad at knowing the standard deviation of their measures, even though a very defensible position is that you are not ready to perform a power analysis without solid knowledge of the standard deviation of your measure. We are interested in observing a mean difference of 1 or more, because smaller effects would not be practically meaningful. We expect the mean in the control condition to be 0, and therefore want the mean in the intervention group to be 1 or higher.</p>
<p>This means the standardized effect size is the mean difference, divided by the standard deviation, or 1/2 = 0.5. This is the Cohen’s d we want to be able to detect in our study:</p>
<p><span class="math display">\[\begin{equation}
d = \frac{m_1-m_2}{\sigma} =  \frac{1-0}{2} = 0.5.
\end{equation}\]</span></p>
<p>An independent <em>t</em>-test is mathematically identical to an <em>F</em>-test with two groups. For an <em>F</em>-test, the effect size used for power analyses is Cohen’s <em>f</em>, which is a generalization
of Cohen’s d to more than two groups (Cohen, 1988). It is calculated based on the standard deviation of the population means divided by the population standard deviation which we know for our measure is 2), or:</p>
<p><span class="math display">\[\begin{equation}
f = \frac{\sigma _{ m }}{\sigma}
\end{equation}\]</span>
where for equal sample sizes,
<span class="math display">\[\begin{equation}
\sigma _{ m } = \sqrt { \frac { \sum_ { i = 1 } ^ { k } ( m _ { i } - m ) ^ { 2 } } { k } }.
\end{equation}\]</span></p>
<p>In this formula <em>m</em> is the grand mean, k is the number of means, and m_i is the mean in each group. The formula above might look a bit daunting, but calculating Cohen’s f is not that difficult for two groups.</p>
<p>If we take the expected means of 0 and 1, and a standard deviation of 2, the grand mean (the <em>m</em> in the formula above) is (0 + 1)/2 = 0.5. The formula says we should subtract this grand mean from the mean of each group, square this value, and sum them. So we have (0-0.5)^2 and (1-0.5)^2, which are both 0.25. We sum these values (0.25 + 0.25 = 0.5), divide them by the number of groups (0.5/2 = 0.25) and take the square root, we find that <span class="math inline">\(\sigma_{ m }\)</span> = 0.5. We can now calculate Cohen’s f (remember than we know <span class="math inline">\(\sigma\)</span> = 2 for our measure):</p>
<p><span class="math display">\[\begin{equation}
f = \frac{\sigma _{ m }}{\sigma} = \frac{0.5}{2} = 0.25
\end{equation}\]</span></p>
<p>We see that for two groups Cohen’s f is half as large as Cohen’s d, or <span class="math inline">\(f = \frac{1}{2}d\)</span>, which always holds for an <em>F</em>-test with two independent groups.</p>
<p>Although calculating effect sizes by hand is obviously an incredibly enjoyable thing to do, you might prefer using software that performs these calculations for you. Here, I will use our Superpower power analysis package (developed by Aaron Caldwell and me). The code below uses a function from the package that computes power analytically for a one-way ANOVA where all conditions are manipulated between participants. In addition to the effect size, the function will compute power for any sample size per condition you enter. Let’s assume you have a friend who told you that they heard from someone else that you now need to use 50 observations in each condition (n = 50), so you plan to follow this trustworthy advice. We see the code below returns a Cohen’s <em>f</em> of 0.25, and also tells us we would have 61.78% power if we use a preregistered alpha level of 0.03.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="getting-started-comparing-two-groups.html#cb7-1"></a><span class="kw">library</span>(Superpower)</span>
<span id="cb7-2"><a href="getting-started-comparing-two-groups.html#cb7-2"></a></span>
<span id="cb7-3"><a href="getting-started-comparing-two-groups.html#cb7-3"></a>design &lt;-<span class="st"> </span><span class="kw">ANOVA_design</span>(</span>
<span id="cb7-4"><a href="getting-started-comparing-two-groups.html#cb7-4"></a>  <span class="dt">design =</span> <span class="st">&quot;2b&quot;</span>, </span>
<span id="cb7-5"><a href="getting-started-comparing-two-groups.html#cb7-5"></a>  <span class="dt">n =</span> <span class="dv">50</span>, </span>
<span id="cb7-6"><a href="getting-started-comparing-two-groups.html#cb7-6"></a>  <span class="dt">mu =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>), </span>
<span id="cb7-7"><a href="getting-started-comparing-two-groups.html#cb7-7"></a>  <span class="dt">sd =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="Statistical_Inferences_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="getting-started-comparing-two-groups.html#cb8-1"></a><span class="kw">power_oneway_between</span>(design, <span class="dt">alpha_level =</span> <span class="fl">0.03</span>)<span class="op">$</span>Cohen_f</span></code></pre></div>
<pre><code>## [1] 0.25</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="getting-started-comparing-two-groups.html#cb10-1"></a><span class="kw">power_oneway_between</span>(design, <span class="dt">alpha_level =</span> <span class="fl">0.03</span>)<span class="op">$</span>power</span></code></pre></div>
<pre><code>## [1] 61.78474</code></pre>
<p>We therefore might want to increase our sample size for our planned study. Using the <code>plot_power</code> function, we can see we would pass 90% power with 100 observations per condition.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="getting-started-comparing-two-groups.html#cb12-1"></a><span class="kw">plot_power</span>(design, <span class="dt">alpha_level =</span> <span class="fl">0.03</span>, <span class="dt">min_n =</span> <span class="dv">45</span>, <span class="dt">max_n =</span> <span class="dv">150</span>)<span class="op">$</span>plot_ANOVA</span></code></pre></div>
<p><img src="Statistical_Inferences_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre><code>## Achieved Power and Sample Size for ANOVA-level effects
##   variable                  label  n achieved_power desired_power
## 1        a Desired Power Achieved 96          90.13            90</code></pre>
<p><img src="Statistical_Inferences_files/figure-html/unnamed-chunk-6-2.png" width="672" /></p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="power-analysis-for-interactions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interaction-effects.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
